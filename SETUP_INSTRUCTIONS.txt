ðŸš€ COMPLETE SETUP GUIDE - ALL FEATURES IMPLEMENTED!

QUICK SETUP - DO THESE 3 THINGS:

1. UPDATE FIRESTORE RULES (Firebase Console â†’ Firestore â†’ Rules):
   Copy-paste this:

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Helper function to check if user is admin
    function isAdmin() {
      return request.auth != null && 
             request.auth.token.email in [
               'admin@newsline.com',
               'linkcontentdevelopers@gmail.com'
               // ADD YOUR ADMIN EMAILS HERE, ONE PER LINE
             ];
    }

    // Users collection (for auth system)
    match /users/{userId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null && request.auth.uid == userId;
      allow update: if isAdmin(); // Admin can approve companies
    }

    // Applications collection (your original working rules)
    match /applications/{document=**} {
      // Authenticated users can do everything
      allow read, write, update, delete: if request.auth != null;
      
      // Unauthenticated users (guests) can create and read only
      allow create, read: if request.auth == null;
      
      // Admin can do everything
      allow read, write, update, delete: if isAdmin();
    }

    // Messages collection (for admin-to-student messaging)
    match /messages/{messageId} {
      allow read, update: if request.auth != null && request.auth.uid == resource.data.to;
      allow create: if request.auth != null || isAdmin();
    }

    // Gallery collection (admin manages)
    match /gallery/{galleryId} {
      allow read: if true; // Everyone can read
      allow write, update, delete: if isAdmin(); // Only admin can manage
    }

    // Testimonials collection (admin manages)
    match /testimonials/{testimonialId} {
      allow read: if true; // Everyone can read
      allow write, update, delete: if isAdmin(); // Only admin can manage
    }

    // Default rule for all other collections
    match /{document=**} {
      allow read, write: if request.auth != null || isAdmin();
      allow read: if request.auth == null;
    }
  }
}

2. ADD YOUR ADMIN EMAIL TO RULES:
   In the rules above (line 16-18), replace with YOUR email:
   'admin@newsline.com',
   'linkcontentdevelopers@gmail.com',
   'youremail@example.com'  <-- ADD YOURS HERE

3. ADD CLOUDINARY TO .env.local:
   NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=dlvgrs5vp
   NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=newslinetrainingagency

4. CREATE ADMIN ACCOUNT (ONE TIME):
   - Go to Firebase Console â†’ Authentication â†’ Add user manually
   - OR sign up at /auth/signup with your admin email
   - Your email from rules will give you admin access automatically!

5. TEST THE SYSTEM:
   - Student: Sign up â†’ Apply â†’ View dashboard
   - Company: Sign up â†’ WAIT FOR APPROVAL â†’ Then access dashboard
   - Admin: Login â†’ /admin/companies â†’ Approve companies
   - Admin: /admin/enhanced â†’ Assign students to approved companies
   - Admin: /admin/content â†’ Add gallery & testimonials

âœ… COMPLETED FEATURES (EVERYTHING FROM YOUR CHECKLIST!):
âœ… ALL ICONS RED (not purple) - Media, PR, Film, IT, etc.
âœ… FOOTER BLACK (not dark blue)
âœ… CV/RESUME UPLOAD - Cloudinary integration in application form
âœ… COVER LETTER DOCUMENT UPLOAD - Optional PDF/Word upload
âœ… GALLERY SECTION - Photos with Cloudinary upload from admin
âœ… TESTIMONIALS SECTION - Success stories from students
âœ… FORGOT PASSWORD - Password reset via email
âœ… GOOGLE SIGN IN - Role selection modal (Student/Company)
âœ… SIGN UP/SIGN IN - With role selection
âœ… STUDENT DASHBOARD - View applications & messages
âœ… COMPANY DASHBOARD - Review & approve/reject students
âœ… ENHANCED ADMIN - Assign students to companies, send messages
âœ… ADMIN CONTENT MANAGEMENT - Add gallery images & testimonials
âœ… CONSENT CHECKBOX - GDPR compliant
âœ… WHATSAPP LINKS - Contact section

ðŸ“± PAGES CREATED:
HOME (/)
- Hero with logo
- Categories (8 fields: Media, PR, Film, Graphic Design, etc.)
- Gallery (admin-managed with Cloudinary)
- Testimonials (admin-managed)
- Application Form (CV & cover letter upload)
- Contact (WhatsApp link)

AUTH PAGES:
- /auth/signup - Role selection â†’ Details â†’ Create account
- /auth/signin - Email/password or Google (with role selection)
- /auth/forgot-password - Password reset

DASHBOARDS:
- /dashboard - Student dashboard (applications, messages, stats)
- /company - Company dashboard (assigned students, approve/reject)
- /admin - Original admin dashboard
- /admin/enhanced - Assign students, send messages
- /admin/content - Manage gallery & testimonials

ADMIN FEATURES:
âœ“ View all applications
âœ“ Change status: Applied â†’ Review â†’ Approved/Rejected
âœ“ Assign students to companies
âœ“ Send messages to students (appears in their dashboard)
âœ“ Upload gallery images with Cloudinary
âœ“ Add/remove testimonials with photos
âœ“ Export applications to CSV

COMPANY FEATURES:
âœ“ Sign up with detailed company form (industry, location, phone, website)
âœ“ Wait for admin approval
âœ“ After approval â†’ View assigned students
âœ“ See student details (CV, cover letter, contact info)
âœ“ Approve or reject students
âœ“ Send feedback to admin
âœ“ Track review status

NEW COMPANY APPROVAL WORKFLOW:
1. Company signs up â†’ sees "Pending Approval" screen
2. Admin goes to /admin/companies
3. Admin reviews company details (industry, location, etc.)
4. Admin clicks "Approve Company"
5. Company can now access full dashboard!

STUDENT FEATURES:
âœ“ Apply for attachment (with CV & cover letter upload)
âœ“ View application status (Applied/Review/Approved/Rejected)
âœ“ Receive messages from admin
âœ“ Track all applications
âœ“ See unread message count
